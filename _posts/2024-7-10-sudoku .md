---
layout: post
title: c#으로 스도쿠(Sudoku) 게임 만들기-1
date : 2024-07-10
author : "enmael"
categories: blog
---
<h3>●스도쿠 게임 만들기 </h3>
<span style="font-size: 15px;">
  스도쿠 게임은 가로x 세로 9x9의 칸에 1~9까지의 숫자들 가로, 세로 중복 없이 채우는 게임 입니다.
이렇게 채운 3x3의 블록이 기본이 되며 이 블록 또한 1~9 까지의 숫자를 중복없이 채우면 퍼즐이 완성되는 게임 입니다
  (그림1 대충 스도쿠 퍼즐 그림 하나)
</span>

<span style="font-size: 15px;">
  스도쿠 게임을 만들기 위해서는 밑에 그림2에 처럼 5가지의 과정을 완성해야합니다
  (그림2 스도쿠 퍼즐 만드는 그림)
</span>

<span style="font-size: 15px;">
  첫번째 중복없는 3x3의 블록 그러니까 배열을 하나 만드는것
  두번째 중복없는 배열을 잘라서 가로 칸을 채우는것
  세번째 중복없는 배열을 잘라서 세로 칸을 채우는것
  네번째 이렇게 만들어진 배열들을 모두 합쳐서 하나의 9x9이 배열을 만드는것
  다섯번째 이렇게 만들어진 배열을 가지고 게임을 플레이하는것 

  이렇게 5개의 과정을 수행해야합니다 
  
</span>
<h4>1.중복없는 3X3 배열 만들기</h4>

<span style="font-size: 15px;">
    중복없는 3X3 배열을 만들기 위해서는 랜덤 함수를 이용해야 합니다.
  하지만 랜덤 함수를 이용해서 중복없는 배열은 만들수 없기 때문에 이 문제를 해결하기 위해 
  피셔에이츠 셔플 알고리  즘 이라는것을 사용 합니다 
</span>
<h5>1.1피셔에이츠 셔플 알고리즘</h5>

<span style="font-size: 15px;">
   피셔-예이츠 셔플 알고리즘(Fisher-Yates shuffle algorithm)은 배열을 무작위로 썩는 알고리즘으로 
  임의의 순서로 배열의 요소들을 섞어 중복되지 않는 배열을 만드는 알고리즘 입니다.
</span>

<span style="font-size: 15px;">
   피셔에이츠 알고리즘 설명은 아래의 그림과 같습니다
   (그림3 피셔에이츠 셔플 알고리즘 설명 그림)
</span>

```csharp
class Basic
    {
        private int[] array = new int[9] { 1, 2, 3, 4, 5, 6, 7, 8, 9 };
        private int[,] array2 = new int[3, 3];

        public Basic()
        {
            Random random = new Random();

            for (int i = array.Length - 1; i > 0; i--)
            {
                int j = random.Next(0, i + 1);

                int temp = array[i];
                array[i] = array[j];
                array[j] = temp;
            }


            int a = 0;
            for (int i = 0; i < array2.GetLength(0); i++)
            {
                for (int j = 0; j < array2.GetLength(1); j++)
                {
                    array2[i, j] = array[a];
                    a++;
                }
            }

        }

        public int Array2(int x, int y)
        {
            int note = array2[x, y];
            return note;
        }

        public int rows()
        {
            int note = array2.GetLength(0);
            return note;
        }

        public int cols()
        {
            int note = array2.GetLength(1);
            return note;
        }

    }
```
<span style="font-size: 15px;">
   코드1 피셔에이츠 셔플 알고리즘을 이용해서 3x3배열만들기 
</span>
<span style="font-size: 15px;">

</span>
<h4>2.세로 만들기</h4>

<h4>3.가로 만들기</h4>
<h4>4.합치기</h4>

```csharp
 rows1 = sudoku1.GetLength(0);
 cols1 = sudoku1.GetLength(1);
 rows2 = sudoku2.GetLength(0);
 cols2 = sudoku2.GetLength(1);
 rows3 = sudoku3.GetLength(0);
 cols3 = sudoku3.GetLength(1);

 int[,] newSudoku = new int[rows1 + rows2 + rows3, cols1];

 for (int i = 0; i < rows1; i++)
 {
     for (int j = 0; j < cols1; j++)
     {
         newSudoku[i, j] = sudoku1[i, j];
     }
 }

 for (int i = 0; i < rows2; i++)
 {
     for (int j = 0; j < cols2; j++)
     {
         newSudoku[i + rows1, j] = sudoku2[i, j];
     }
 }

 for (int i = 0; i < rows3; i++)
 {
     for (int j = 0; j < cols2; j++)
     {
         newSudoku[i + rows1 + rows2, j] = sudoku3[i, j];
     }
 }
<span style="font-size: 15px;">
   코드00 
</span>

<span style="font-size: 15px;">
   코드00 는 위에서 만들어진 3x9의 2차원배열인  sudoku1, sudoku2, sudoku3를 합쳐서 하나의 새로운 9X9배열  newSudoku 에 붙여 넣는 과정 입니다 
</span>
```
<h4>5.게임 플레이</h4>

<h5>5.1 빈 공간 배열 만들기</h5>

```csharp
//복사
int[,] copySudoku = new int[9, 9];
for (int i = 0; i < copySudoku.GetLength(0); i++)
{
    for (int j = 0; j < copySudoku.GetLength(1); j++)
        copySudoku[i, j] = newSudoku[i, j];
}

//랜덤 좌표를 빈공간으로 만들기
int number1 = 0;
int number2 = 0;
Random random = new Random();
for (int i = 0; i < 15; i++)
{
    number1 = random.Next(0, 9);
    number2 = random.Next(0, 9);
    copySudoku[number1, number2] = 0;
}
```
<span style="font-size: 15px;">
   코드00 
</span>
<span style="font-size: 15px;">
   코드00는 게임 플레이 필요한 답안지를 제작하는 과정으로 
 copySudoku라는 새로운 배열을 생성하여 랜덤 함수를 이용하여 
  2차원배열을 인덱스 값을 받아서 그곳의 값만 0으로 바꿔 버리는 코드 입니다.
</span>
<h5>5.2 게임플레이</h5>


